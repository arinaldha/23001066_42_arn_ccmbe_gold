const moment = require("moment");

function getOffset(currentPage = 1, listPerPage) {
  return (currentPage - 1) * [listPerPage];
}

function emptyOrRows(rows) {
  if (!rows) {
    return [];
  }
  return rows;
}

function timestamp() {
  const currentDate = moment();
  return currentDate.format("YYYY-MM-DD HH:mm:ss");
}

function generateRandomChar(length) {
  const charset =
    "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
  let result = "";

  for (let i = 0; i < length; i++) {
    const randomIndex = Math.floor(Math.random() * charset.length);
    result += charset.charAt(randomIndex);
  }

  return result;
}

module.exports = {
  getOffset,
  emptyOrRows,
  timestamp,
  generateRandomChar,
};
